name: CodeQL Caller

on:
  pull_request:
    branches:
      - main
      - develop
  push:
    branches:
      - main
      - develop

jobs:
  call-codeql:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        include:
          - language: python
            build-mode: none
          - language: java
            build-mode: autobuild
#            build-java: "./gradlew assemble || ./mvnw clean install"
#          - language: csharp
#            build-mode: manual
#            build-c: "./<Mysolution>.sln"

    steps:
    - name: Checkout repository
      uses: actions/checkout@v4
    
    - name: Call reusable workflow
      uses: survivalcyborg/ghas/.github/workflows/codeql-reusable.yml@main
      with:
        language: ${{ matrix.language }}
        build-mode: ${{ matrix['build-mode'] }}
#        build-java: ${{ matrix['build-java'] || '' }}
#        build-c: ${{ matrix['build-c'] || '' }}
