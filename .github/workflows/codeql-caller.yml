name: CodeQL-Caller

on:
  pull_request:
    branches:
      - main
  push:
    branches:
      - main

jobs:
  call-codeql:
    strategy:
      matrix:
        language: [ "python" ]  # Add other languages as needed
        build-mode: [ "autobuild" ]  # Modify as per your requirements

    runs-on: ubuntu-latest

    steps:
    - name: Checkout repository
      uses: actions/checkout@v2 

    - name: Call codeql-generic workflow
      uses: ./.github/workflows/codeql-generic.yml
      with:
        protected_branches: "main"
        language: ${{ matrix.language }}
        build-mode: ${{ matrix.build-mode }}
#      build-graddle: ${{ matrix.build-graddle }}  # Specify these based on your needs
#      build-maven: ${{ matrix.build-maven }}
#      build-csharp: ${{ matrix.build-csharp }}
