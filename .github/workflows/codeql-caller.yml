name: CodeQL Caller

on:
  pull_request:
    branches:
      - main
      - develop
  push:
    branches:
      - main
      - develop

jobs:
  call-codeql:
    strategy:
      matrix:
        language: ['python' , 'java'] # Add other languages as needed
        build-mdoe:  ['none' , 'autobuild']
    runs-on: ubuntu-latest
    permissions:
        security-events: write
        actions: read
        contents: read

    steps:
      - name: Checkout repository
        uses: actions/checkout@v2

      - name: Call CodeQL Generic Action
        uses: ./.github/actions/codeql-generic
        with:
          language: ${{matrix.language}}
          build-mode: ${{matrix.build-modem}}
          # Add other inputs as needed based on matrix
